# ğŸ“š Library Management System

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-green.svg)](https://fastapi.tiangolo.com)
[![MySQL](https://img.shields.io/badge/MySQL-8.0+-orange.svg)](https://mysql.com)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![Code Style](https://img.shields.io/badge/Code%20Style-black-black.svg)](https://github.com/psf/black)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](#-Ä‘Ã³ng-gÃ³p)

> **Há»‡ thá»‘ng quáº£n lÃ½ thÆ° viá»‡n hiá»‡n Ä‘áº¡i** Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i FastAPI, SQLAlchemy vÃ  Bootstrap. Dá»± Ã¡n nÃ y cung cáº¥p má»™t giáº£i phÃ¡p toÃ n diá»‡n cho viá»‡c quáº£n lÃ½ thÆ° viá»‡n vá»›i giao diá»‡n thÃ¢n thiá»‡n vÃ  hiá»‡u suáº¥t cao.

**ğŸŒŸ Náº¿u dá»± Ã¡n nÃ y há»¯u Ã­ch, hÃ£y cho má»™t star â­ Ä‘á»ƒ á»§ng há»™ nhÃ©!**

## âœ¨ TÃ­nh nÄƒng ná»•i báº­t

### ğŸ‘¤ DÃ nh cho ngÆ°á»i dÃ¹ng
- **ğŸ” XÃ¡c thá»±c**: ÄÄƒng kÃ½, Ä‘Äƒng nháº­p vá»›i JWT Token
- **ğŸ” TÃ¬m kiáº¿m thÃ´ng minh**: TÃ¬m sÃ¡ch theo tÃªn, tÃ¡c giáº£, thá»ƒ loáº¡i, nÄƒm xuáº¥t báº£n
- **ğŸ“– Chi tiáº¿t sÃ¡ch**: Giao diá»‡n hiá»‡n Ä‘áº¡i vá»›i hÃ¬nh áº£nh bÃ¬a sÃ¡ch
- **ğŸ›’ Giá» mÆ°á»£n sÃ¡ch**: Quáº£n lÃ½ Ä‘Æ¡n mÆ°á»£n vá»›i tá»‘i Ä‘a 5 cuá»‘n/Ä‘Æ¡n
- **ğŸ“Š Lá»‹ch sá»­ cÃ¡ nhÃ¢n**: Theo dÃµi cÃ¡c Ä‘Æ¡n mÆ°á»£n hiá»‡n táº¡i vÃ  Ä‘Ã£ tráº£
- **ğŸ”” ThÃ´ng bÃ¡o**: Nháº­n cáº£nh bÃ¡o háº¡n tráº£, thÃ´ng bÃ¡o há»‡ thá»‘ng
- **ğŸ‘¨â€ğŸ’¼ Quáº£n lÃ½ há»“ sÆ¡**: Cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n

### ğŸ›¡ï¸ DÃ nh cho quáº£n trá»‹ viÃªn
- **ğŸ“š Quáº£n lÃ½ sÃ¡ch**: CRUD sÃ¡ch vá»›i upload áº£nh bÃ¬a
- **ğŸ·ï¸ Quáº£n lÃ½ danh má»¥c**: Thá»ƒ loáº¡i, tÃ¡c giáº£, nhÃ  xuáº¥t báº£n
- **ğŸ‘¥ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng**: Xem, chá»‰nh sá»­a, khÃ³a/má»Ÿ khÃ³a tÃ i khoáº£n
- **ğŸ“‹ Quáº£n lÃ½ Ä‘Æ¡n mÆ°á»£n**: Duyá»‡t, tá»« chá»‘i, xÃ¡c nháº­n tráº£ sÃ¡ch
- **ğŸ“ˆ BÃ¡o cÃ¡o thá»‘ng kÃª**: Dashboard vá»›i biá»ƒu Ä‘á»“ vÃ  sá»‘ liá»‡u
- **âš ï¸ Quáº£n lÃ½ quÃ¡ háº¡n**: Theo dÃµi sÃ¡ch quÃ¡ háº¡n vÃ  pháº¡t
- **ğŸ”” Há»‡ thá»‘ng thÃ´ng bÃ¡o**: Gá»­i thÃ´ng bÃ¡o tá»± Ä‘á»™ng vÃ  thá»§ cÃ´ng

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

- **ğŸš€ Backend**: FastAPI 0.103.1, Python 3.8+
- **ğŸ—„ï¸ Database**: MySQL 8.0+ vá»›i SQLAlchemy ORM
- **ğŸ”’ Authentication**: JWT Token vá»›i passlib
- **ğŸ¨ Frontend**: HTML5, CSS3, JavaScript ES6+, Bootstrap 5
- **ğŸ“ File Upload**: Python-multipart cho upload áº£nh
- **â° Task Scheduler**: APScheduler cho thÃ´ng bÃ¡o tá»± Ä‘á»™ng
- **ğŸ­ Template Engine**: Jinja2
- **ğŸ“§ Validation**: Pydantic models, email-validator
- **ğŸ§ª Testing**: Pytest, HTTPx
- **ğŸŒ CORS**: FastAPI CORS middleware


## ğŸ“‹ YÃªu cáº§u há»‡ thá»‘ng

- **Python**: 3.8+ (Khuyáº¿n nghá»‹ 3.10+)
- **MySQL**: 8.0+ hoáº·c MariaDB 10.5+
- **RAM**: Tá»‘i thiá»ƒu 2GB (Khuyáº¿n nghá»‹ 4GB+)
- **Dung lÆ°á»£ng**: 500MB cho á»©ng dá»¥ng + 1GB cho database
- **Há»‡ Ä‘iá»u hÃ nh**: Windows 10+, Ubuntu 20.04+, macOS 10.15+


## ğŸš€ HÆ°á»›ng dáº«n cÃ i Ä‘áº·t

### ğŸªŸ TrÃªn Windows

#### BÆ°á»›c 1: CÃ i Ä‘áº·t cÃ¡c pháº§n má»m cáº§n thiáº¿t

1. **CÃ i Ä‘áº·t Python**
   - Táº£i Python tá»«: https://www.python.org/downloads/
   - Chá»n phiÃªn báº£n 3.8 hoáº·c cao hÆ¡n
   - âš ï¸ **Quan trá»ng**: Tick vÃ o "Add Python to PATH" khi cÃ i Ä‘áº·t
   - Kiá»ƒm tra cÃ i Ä‘áº·t:
     ```cmd
     python --version
     pip --version
     ```

2. **CÃ i Ä‘áº·t MySQL**
   - Táº£i MySQL Community Server tá»«: https://dev.mysql.com/downloads/mysql/
   - CÃ i Ä‘áº·t MySQL Workbench Ä‘á»ƒ quáº£n lÃ½ database
   - Ghi nhá»› username/password cá»§a root user

3. **CÃ i Ä‘áº·t Git (tÃ¹y chá»n)**
   - Táº£i tá»«: https://git-scm.com/download/win

#### BÆ°á»›c 2: Táº£i vÃ  thiáº¿t láº­p dá»± Ã¡n

1. **Clone hoáº·c táº£i dá»± Ã¡n**
   ```cmd
   # Náº¿u cÃ³ Git
   git clone https://github.com/nvthach124/library-management-system.git
   cd library-management-system
   
   # Hoáº·c táº£i file ZIP vÃ  giáº£i nÃ©n
   ```

2. **Táº¡o mÃ´i trÆ°á»ng áº£o Python**
   ```cmd
   python -m venv venv
   venv\Scripts\activate
   ```

3. **CÃ i Ä‘áº·t thÆ° viá»‡n**
   ```cmd
   pip install -r requirements.txt
   ```

#### BÆ°á»›c 3: Cáº¥u hÃ¬nh Database

1. **Táº¡o database trong MySQL**
   ```sql
   -- Má»Ÿ MySQL Workbench hoáº·c command line
   CREATE DATABASE library_management CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   ```

2. **Táº¡o file cáº¥u hÃ¬nh mÃ´i trÆ°á»ng**
   - Táº¡o file `.env` trong thÆ° má»¥c gá»‘c:
   ```env
   # Database Configuration
   DB_HOST=localhost
   DB_PORT=3306
   DB_USER=root
   DB_PASSWORD=your_mysql_password
   DB_NAME=library_management
   
   # JWT Configuration
   SECRET_KEY=your-secret-key-here
   ALGORITHM=HS256
   ACCESS_TOKEN_EXPIRE_MINUTES=30
   
   # File Upload
   UPLOAD_DIR=static/images/book_covers/
   MAX_FILE_SIZE=5242880
   ```

3. **Khá»Ÿi táº¡o database**
   ```cmd
   python app/database/init_db.py
   ```

#### BÆ°á»›c 4: Cháº¡y á»©ng dá»¥ng

```cmd
# Äáº£m báº£o mÃ´i trÆ°á»ng áº£o Ä‘Ã£ Ä‘Æ°á»£c kÃ­ch hoáº¡t
venv\Scripts\activate

# Cháº¡y server
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

---

### ğŸ§ TrÃªn Ubuntu

#### BÆ°á»›c 1: Cáº­p nháº­t há»‡ thá»‘ng vÃ  cÃ i Ä‘áº·t cÃ¡c pháº§n má»m cáº§n thiáº¿t

1. **Cáº­p nháº­t package list**
   ```bash
   sudo apt update && sudo apt upgrade -y
   ```

2. **CÃ i Ä‘áº·t Python vÃ  pip**
   ```bash
   sudo apt install python3 python3-pip python3-venv python3-dev -y
   
   # Kiá»ƒm tra phiÃªn báº£n
   python3 --version
   pip3 --version
   ```

3. **CÃ i Ä‘áº·t MySQL Server**
   ```bash
   sudo apt install mysql-server mysql-client -y
   
   # Báº£o máº­t MySQL
   sudo mysql_secure_installation
   
   # Kiá»ƒm tra dá»‹ch vá»¥
   sudo systemctl status mysql
   ```

4. **CÃ i Ä‘áº·t cÃ¡c gÃ³i há»— trá»£**
   ```bash
   sudo apt install build-essential libmysqlclient-dev pkg-config -y
   ```

#### BÆ°á»›c 2: Táº£i vÃ  thiáº¿t láº­p dá»± Ã¡n

1. **Clone hoáº·c táº£i dá»± Ã¡n**
   ```bash
   # CÃ i Ä‘áº·t Git náº¿u chÆ°a cÃ³
   sudo apt install git -y
   
   # Clone dá»± Ã¡n
   git clone https://github.com/nvthach124/library-management-system.git
   cd library-management-system
   
   # Hoáº·c táº£i vÃ  giáº£i nÃ©n file ZIP
   ```

2. **Táº¡o mÃ´i trÆ°á»ng áº£o Python**
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```

3. **CÃ i Ä‘áº·t thÆ° viá»‡n**
   ```bash
   pip install -r requirements.txt
   ```

#### BÆ°á»›c 3: Cáº¥u hÃ¬nh Database

1. **Táº¡o database trong MySQL**
   ```bash
   # ÄÄƒng nháº­p MySQL
   sudo mysql -u root -p
   
   # Táº¡o database
   CREATE DATABASE library_management CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   
   # Táº¡o user cho á»©ng dá»¥ng (tÃ¹y chá»n)
   CREATE USER 'libuser'@'localhost' IDENTIFIED BY 'secure_password';
   GRANT ALL PRIVILEGES ON library_management.* TO 'libuser'@'localhost';
   FLUSH PRIVILEGES;
   EXIT;
   ```

2. **Táº¡o file cáº¥u hÃ¬nh mÃ´i trÆ°á»ng**
   ```bash
   # Táº¡o file .env
   nano .env
   
   # Hoáº·c sá»­ dá»¥ng editor khÃ¡c
   vim .env
   ```
   
   Ná»™i dung file `.env`:
   ```env
   # Database Configuration
   DB_HOST=localhost
   DB_PORT=3306
   DB_USER=libuser
   DB_PASSWORD=your_mysql_password
   DB_NAME=library_management
   
   # JWT Configuration
   SECRET_KEY=your-very-secret-key-here
   ALGORITHM=HS256
   ACCESS_TOKEN_EXPIRE_MINUTES=30
   
   # File Upload
   UPLOAD_DIR=static/images/book_covers/
   MAX_FILE_SIZE=5242880
   ```

3. **Khá»Ÿi táº¡o database**
   ```bash
   python app/database/init_db.py
   ```

#### BÆ°á»›c 4: Cháº¡y á»©ng dá»¥ng

```bash
# Äáº£m báº£o mÃ´i trÆ°á»ng áº£o Ä‘Ã£ Ä‘Æ°á»£c kÃ­ch hoáº¡t
source venv/bin/activate

# Cháº¡y server
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

#### BÆ°á»›c 5: Thiáº¿t láº­p cháº¡y tá»± Ä‘á»™ng (tÃ¹y chá»n)

1. **Táº¡o systemd service**
   ```bash
   sudo nano /etc/systemd/system/library-system.service
   ```

2. **Ná»™i dung service file**
   ```ini
   [Unit]
   Description=Library Management System
   After=network.target mysql.service
   
   [Service]
   Type=simple
   User=your-username
   WorkingDirectory=/path/to/library-management-system
   Environment=PATH=/path/to/library-management-system/venv/bin
   ExecStart=/path/to/library-management-system/venv/bin/uvicorn app.main:app --host 0.0.0.0 --port 8000
   Restart=always
   
   [Install]
   WantedBy=multi-user.target
   ```

3. **KÃ­ch hoáº¡t service**
   ```bash
   sudo systemctl daemon-reload
   sudo systemctl enable library-system
   sudo systemctl start library-system
   sudo systemctl status library-system
   ```

---

## ğŸŒ Truy cáº­p á»©ng dá»¥ng

Sau khi khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng, truy cáº­p á»©ng dá»¥ng táº¡i:
- **URL**: http://localhost:8000
- **TÃ i khoáº£n admin máº·c Ä‘á»‹nh**:
  - Username: `admin`
  - Password: `admin123`

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n

```
LMSystem/
â”œâ”€â”€ app/                          # MÃ£ nguá»“n backend
â”‚   â”œâ”€â”€ auth/                     # XÃ¡c thá»±c vÃ  phÃ¢n quyá»n
â”‚   â”œâ”€â”€ database/                 # Káº¿t ná»‘i vÃ  model database
â”‚   â”‚   â”œâ”€â”€ models.py            # SQLAlchemy models
â”‚   â”‚   â”œâ”€â”€ db.py                # Database connection
â”‚   â”‚   â””â”€â”€ init_db.py           # Database initialization
â”‚   â”œâ”€â”€ routers/                  # API endpoints
â”‚   â”‚   â”œâ”€â”€ auth.py              # Authentication APIs
â”‚   â”‚   â”œâ”€â”€ books.py             # Book management APIs
â”‚   â”‚   â”œâ”€â”€ users.py             # User management APIs
â”‚   â”‚   â”œâ”€â”€ pages.py             # Page rendering
â”‚   â”‚   â””â”€â”€ ...                  # Other routers
â”‚   â”œâ”€â”€ utils/                    # Tiá»‡n Ã­ch vÃ  helpers
â”‚   â””â”€â”€ main.py                   # FastAPI application
â”œâ”€â”€ static/                       # File tÄ©nh
â”‚   â”œâ”€â”€ css/                      # Stylesheets
â”‚   â”œâ”€â”€ js/                       # JavaScript files
â”‚   â””â”€â”€ images/                   # Images vÃ  uploads
â”œâ”€â”€ templates/                    # Jinja2 templates
â”‚   â”œâ”€â”€ admin/                    # Admin templates
â”‚   â”œâ”€â”€ components/               # Reusable components
â”‚   â””â”€â”€ *.html                    # Page templates
â”œâ”€â”€ logs/                         # Log files
â”œâ”€â”€ requirements.txt              # Python dependencies
â”œâ”€â”€ .env                          # Environment configuration
â””â”€â”€ README.md                     # Documentation
```

## ğŸ”§ Troubleshooting

### Lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch kháº¯c phá»¥c

1. **Lá»—i káº¿t ná»‘i MySQL**
   ```
   sqlalchemy.exc.OperationalError: (MySQLdb._exceptions.OperationalError)
   ```
   - Kiá»ƒm tra MySQL service Ä‘ang cháº¡y
   - XÃ¡c nháº­n thÃ´ng tin káº¿t ná»‘i trong file `.env`
   - Äáº£m báº£o database Ä‘Ã£ Ä‘Æ°á»£c táº¡o

2. **Lá»—i port Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng**
   ```
   OSError: [Errno 98] Address already in use
   ```
   - Thay Ä‘á»•i port trong lá»‡nh cháº¡y: `--port 8001`
   - Hoáº·c kill process Ä‘ang sá»­ dá»¥ng port 8000

3. **Lá»—i missing dependencies**
   ```
   ModuleNotFoundError: No module named 'fastapi'
   ```
   - Äáº£m báº£o Ä‘Ã£ kÃ­ch hoáº¡t virtual environment
   - Cháº¡y láº¡i: `pip install -r requirements.txt`

4. **Lá»—i upload file**
   - Kiá»ƒm tra quyá»n ghi trong thÆ° má»¥c `static/images/book_covers/`
   - Äáº£m báº£o thÆ° má»¥c tá»“n táº¡i

### Kiá»ƒm tra logs

```bash
# Xem logs á»©ng dá»¥ng
tail -f logs/app.log

# Xem logs tasks
tail -f logs/tasks.log
```

## ğŸ¤ ÄÃ³ng gÃ³p

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t triá»ƒn vá»›i má»¥c Ä‘Ã­ch há»c táº­p. Má»i Ä‘Ã³ng gÃ³p Ä‘á»u Ä‘Æ°á»£c hoan nghÃªnh!

## ğŸ“„ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t hÃ nh dÆ°á»›i giáº¥y phÃ©p MIT.

---

**ChÃºc báº¡n sá»­ dá»¥ng á»©ng dá»¥ng vui váº»! ğŸ“šâœ¨** 
 